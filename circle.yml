machine:
  java:
    version: oraclejdk8

dependencies:
  pre:
    - bash make-astyle.sh
  cache_directories:
    - ~/bin

test:
  pre:
    - bash check-whitespace.sh

deployment:
  staging:
    branch: develop
    commands:
      - mvn versions:set -DgenerateBackupPoms=false -DnewVersion=$(git rev-parse HEAD | head -c 8)-SNAPSHOT
      - mvn -s settings.xml deploy
